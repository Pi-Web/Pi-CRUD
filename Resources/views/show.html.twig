{% extends 'base.html.twig' %}

{% set class_primary = 'primary' %}
{% set class_secondary = 'secondary' %}
{% block title %}{{ entity }}{% endblock %}

{% block content %}
    <div class="container-xl py-2 pt-lg-4 pb-lg-0">
        {% block entity_breadcrumb %}
            {{ sonata_block_render({ 'type': 'block.breadcrumb' }, {}) }}
        {% endblock %}
    </div>

    <article itemscope itemtype="https://schema.org/Article">
        <div class="container-xl">
            {% block entity_title %}
                <h1 itemprop="name">{{ entity }}</h1>
                <span class="d-none" itemprop="author">{{ app_name }}</span>
                <div class="font-italic">
                    Publié le <time itemprop="dateCreated" datetime="{{ entity.createAt|date('c') }}">{{ entity.createAt|format_datetime('full', 'medium', locale='fr') }}</time>, modifié le <time itemprop="dateModified" datetime="{{ entity.updateAt|date('c') }}">{{ entity.updateAt|format_datetime('full', 'medium', locale='fr') }}</time>
                </div>
            {% endblock %}

            {% block content_header_admin_actions %}
                {% if is_granted('edit', entity) or is_granted('delete', entity) %}
                    <div class="my-4">
                        {% include '@PiCRUD/includes/admin_actions.html.twig' %}
                    </div>
                {% endif %}
            {% endblock %}
        </div>

        {% block content_description %}{% endblock %}

        {% if entity.image is defined and entity.image.name is not null and entity.image is not null %}
            <img itemprop="image" class="img-fluid mx-auto w-100" src="{{ asset('images/' ~ entity.image.name) | imagine_filter('carousel_header') }}" alt="Image du contenu">
        {% endif %}

        <section itemprop="text" class="my-4">
            {% if entity.content is defined and entity.content is not null %}
                <span class="d-none" itemprop="headline"></span>
                <div class="container-xl text-justify" >
                    {{ entity.content|raw }}
                </div>
            {% endif %}
        </section>

        {% block extra_content %}{% endblock %}
    </article>
{% endblock %}