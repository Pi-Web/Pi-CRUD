{% if is_granted('show', entity) %}
    {% set class_primary = 'primary' %}
    {% set class_secondary = 'secondary' %}

    {% block item %}
        <div class="{% if attr is not empty and attr.class is defined %}{{ attr.class }}{% endif%} mb-4">
            <div class="card bg-dark border-{{ class_primary }} h-100">
                <img src="{{ asset(entity.image.name is not null ? 'images/' ~ entity.image.name : 'images/default.webp') | imagine_filter('thumbnail') }}" class="card-img-top position-absolute opacity-20 h-100" alt="...">
                <div class="card-body text-white z-index-10">
                    {% block item_title %}<span class="h3 card-title">{{ entity.title }}</span>{% endblock item_title %}
                    {% block item_content %}
                        <div class="mb-2">
                            Modifi√© le <time>{{ entity.updateAt|format_datetime('full', 'medium', locale='fr') }}</time>
                        </div>
                    {% endblock item_content %}
                    <div class="item-links">
                        {% block item_link %}<a href="{{ path('pi_crud_show', {'type': type, 'id': entity.id, 'slug': entity.slug}) }}" class="btn btn-{{ class_primary }} stretched-link">Plus d'informations</a>{% endblock item_link %}
                        {% block item_admin %}{% include '@PiCRUD/includes/admin_actions.html.twig' ignore missing with {'label_attr': 'd-none'} %}{% endblock item_admin %}
                    </div>
                </div>
            </div>
        </div>
    {% endblock %}

    {% include '@PiCRUD/includes/structured_data.html.twig' %}
{% endif %}
