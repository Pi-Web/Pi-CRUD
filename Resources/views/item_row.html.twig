{% if is_granted('show', entity) %}
    <div role="listitem" class="carousel-item {{ attr.class }}" itemscope itemtype="https://schema.org/Article">
        <img itemprop="image" class="first-slide opacity-20" src="{{ asset(entity.image.name is not null ? 'images/' ~ entity.image.name : 'images/default.webp') | imagine_filter('carousel_header') }}" alt="">
        <div class="container-xl">
            <div class="carousel-caption text-left">
                <h1 itemprop="name" class="text-primary">{{ entity.title }}</h1>
                <span class="d-none" itemprop="author">{{ app_name }}</span>

                {% if entity.createAt != entity.updateAt and entity.updateAt > date()|date_modify('-1 day') %}
                    <span class="badge badge-secondary">Mise à jour récente</span>
                {% endif %}
                <p class="text-white font-italic">
                    Modifié le {{ entity.updateAt|format_datetime('full', 'medium', locale='fr') }}
                </p>
                <p class="text-justify d-lg-none">{{ entity.content|striptags|u.truncate(255)|raw }} ...</p>
                <p class="text-justify d-none d-lg-block">{{ entity.content|striptags|u.truncate(500)|raw }} ...</p>
                {% if entity.content is defined and entity.content is not empty %}
                    <span itemprop="headline" class="d-none">{{ entity.content|striptags|u.truncate(100)|raw }} ...</span>
                {% endif %}
                <p>
                    <a class="btn btn-primary" href="{{ path('pi_crud_show', {'type': type, 'id': entity.id}) }}" role="button" itemid="{{ path('pi_crud_show', {'type': type, 'id': entity.id}) }}">
                        Lire la suite
                    </a>
                    {% include '@PiCRUD/includes/admin_actions.html.twig' ignore missing %}
                </p>
            </div>
        </div>
    </div>
{% endif %}
